//=============================================================================
// コントロール処理 [control.cpp]
// Author : 村元翼
//=============================================================================
#include "control_zoom.h"
#include "ui.h"

//=============================================================================
// マクロ定義
//=============================================================================
#define ZOOM_FRAME	(40)		// ズームを毎回行うまでのフレーム数
#define ZOOM_SIZE	(1.15f)		// ズームをする大きさ

//=============================================================================
// コンストラクタ
//=============================================================================
CControlZoom::CControlZoom(void)
{
}

//=============================================================================
// デストラクタ
//=============================================================================
CControlZoom::~CControlZoom()
{
}

//=============================================================================
// 初期化処理
//=============================================================================
HRESULT CControlZoom::Init()
{
	return S_OK;
}

//=============================================================================
// 終了処理
//=============================================================================
void CControlZoom::Uninit()
{

}

//=============================================================================
// 更新処理
//=============================================================================
void CControlZoom::Update(CScene *pObject)
{
	m_nFrame++;

	CUi *pUi = nullptr;

	// オブジェクトをUIクラスにキャスト
	pUi = (CUi*)pObject;

	// 位置・大きさ
	D3DXVECTOR3 pos;
	D3DXVECTOR3 size;

	// 位置・大きさ取得
	pos = pUi->GetPos();
	size = pUi->GetSize();

	// ズームフレーム
	if (m_nFrame < ZOOM_FRAME)
	{
		size.x *= ZOOM_SIZE;
		size.y *= ZOOM_SIZE;

		pUi->SetPos(pos, size);
	}

}

//=============================================================================
// オブジェクト生成処理
//=============================================================================
CControlZoom *CControlZoom::Create()
{
	// オブジェクト生成
	CControlZoom *pControlZoom = nullptr;
	if (pControlZoom = new CControlZoom)
	{
		pControlZoom->Init();
	}

	return pControlZoom;
}